<form [formGroup]="form" (ngSubmit)="onSubmit()" class="p-fluid p-grid p-formgrid">

    <!-- ğŸ·ï¸ Nom de la salle -->
    <div class="p-field p-col-12 p-md-6">
        <label for="name">ğŸ·ï¸ Nom de la salle</label>
        <input id="name" type="text" pInputText formControlName="name" placeholder="ex: Salle ConfÃ©rence A">
    </div>

    <!-- ğŸ‘¥ CapacitÃ© -->
    <div class="p-field p-col-12 p-md-6">
        <label for="capacity">ğŸ‘¥ CapacitÃ©</label>
        <input id="capacity" type="number" pInputText formControlName="capacity" min="1">
    </div>

    <!-- ğŸ·ï¸ Type de salle -->
    <div class="p-field p-col-12 p-md-6">
        <label for="type">ğŸ¢ Type de salle</label>
        <p-dropdown
            id="type"
            [options]="roomTypes"
            optionLabel="label"
            optionValue="value"
            formControlName="type"
            placeholder="SÃ©lectionnez un type">
        </p-dropdown>
    </div>

    <!-- ğŸ› ï¸ Liste des Ã©quipements -->
    <div class="p-field p-col-12">
        <label>ğŸ› ï¸ Ã‰quipements</label>
        <div formArrayName="equipments">
            <div
                *ngFor="let eq of equipments.controls; let i = index"
                [formGroupName]="i"
                class="p-inputgroup mb-2">
                <input type="text" pInputText formControlName="name" placeholder="ex: Projecteur">
                <button type="button" pButton icon="pi pi-trash" class="p-button-danger" (click)="removeEquipment(i)"></button>
            </div>
        </div>
        <button type="button" pButton icon="pi pi-plus" label="Ajouter Ã©quipement" class="p-button-sm p-button-success mt-1" (click)="addEquipment()"></button>
    </div>

    <!-- ğŸ§¾ Actions -->
    <div class="form-actions">
        <button type="submit" pButton label="âœ… Enregistrer" class="p-button-primary" [disabled]="form.invalid"></button>
        <button type="button" pButton label="âŒ Annuler" class="p-button-secondary" (click)="router.navigate(['/rooms'])"></button>
    </div>

</form>
